与sql注入,上传攻击,越权不同.  前面两种是服务端攻击, 而xss是客户端攻击.
前者是要拿到服务器的权限, 而后者是为了让客户端实现某些功能.
上联: 以前一日一大片，现在只能日一客户端
下联：以前日站脱全库，现在只得一session

但是 如果目标是管理员这一客户端的session 则获得的收益也是相当巨大的.

xss弊端:
1:局限性太大: 因为只局限于客户端，又受限于javascript的权限，干不了太多事情，除非有0day，或者调用ActiveX做些坏事。
2:被动攻击: XSS属于被动攻击，一封精心构造的邮件发发过去，别人一天不点，你就要等一天，万一遇到对方休个产假，那就歇菜了。

xss的优势，也是它火的原因：
1.攻击成本并不高。自从有了各种xss平台，浏览着网站，好好的，随手就是一个盲打，根本停不下来，虽然收益有限，但成本很低，因此性价比很高。
2.不易被检测。存储型的XSS是很难被检测到的，即便是payload中的某个关键字触发了防御规则，也很容易变换绕过。
3.目前互联网上xss漏洞还是比较多的，想要发现并不难。以后就不好说了。

至于actionscript，这是flash安全必掌握的，flash安全属于前端安全一个非常重要分支，只是很多人都是半吊子，没真正去玩，书里我感觉已经介绍够详细了，还扔出个google flash xss 0day，虽然是鸡肋，不过很经典。

实施XSS攻击需要具备两个条件：
一、需要向web页面注入恶意代码；(如何? 反射型和存储型)
二、这些恶意代码能够被浏览器成功的执行。(如何? 特殊字符破坏页面解析结构)

根据XSS攻击的效果可以分为几种类型:
第一、XSS反射型攻击，恶意代码并没有保存在目标网站，通过引诱用户点击一个链接到目标网站的恶意链接来实施攻击的,恶意代码通常包含在url提交的参数 或 表单参数中。 有人会问，我怎么可能自己去把value改成可以执行的恶意代码呢?这不是自己坑自己吗.
但是一种情况是别人可能修改这个value值，然后将这个恶意的URL发送给你如邮件,或者别人,当URL地址被打开时,
特有的恶意代码参数被HTML解析,执行.它的特点是非持久化,必须用户点击带有特定参数的链接才能引起.
这些恶意代码可以是读也可以是写

第二、XSS存储型攻击，恶意代码被保存到目标网站的服务器中，这种攻击具有较强的稳定性和持久性，比较常见场景是在博客，论坛等社交网站上，但OA系统，和CRM系统上也能看到它身影，比如：某CRM系统的客户投诉功能上存在XSS存储型漏洞，黑客提交了恶意攻击代码，当系统管理员查看投诉信息时恶意代码执行，窃取了客户的资料，然而管理员毫不知情，这就是典型的XSS存储型攻击。

第三\ DOM型  特殊类型的反射型XSS

防御:
1: 输出检查  HttpUtility.HtmlAttributeEncode  和 HttpUtility.JavaScriptStringEncode
2: 输入检查 在用户提交数据的时候判断get和post中是否存在<>’”/这五种符号，基本上屏蔽了这五种符号, ajax 禁止拼接字符串
3: 输入安全类型 int float 枚举
4: 智能过滤恶意代码 filter
5:dom型xss  避免客户端文档重写、重定向或其他敏感操作，同时避免使用客户端数据，这些操作尽量在服务器端使用动态页面来实现；

CRLF: carriage return/line feed 回车和换行要转义
CSRF : 冒充用户之手, CSRF 的全称是“跨站请求伪造”，而 XSS 的全称是“跨站脚本”, 意外的连接, 删帖, 改密码等.
